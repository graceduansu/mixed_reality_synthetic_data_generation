<?xml version="1.0" encoding="utf-8"?>

<!-- Render test for a single Mustang and ground patch -->

<scene version="0.5.0">
	<integrator type="volpath">
		<integer name="rrDepth" value="5"/>
		<boolean name="hideEmitters" value="true"/>
	</integrator>

	<emitter type="sunsky">
		<float name="turbidity" value="$turbidity"/>
		<float name="latitude" value="$lat"/>
        <float name="longitude" value="$long"/>
        <float name="timezone" value="$timezone"/>
		
		<integer name="year" value="$year"/>
		<integer name="month" value="$month"/>
		<integer name="day" value="$day"/>

        <float name="hour" value="$hr"/>
        <float name="minute" value="$min"/>

        <float name="sunScale" value="3"/>
		<float name="skyScale" value="3"/>

	</emitter>

	<sensor type="perspective">
		<string name="fovAxis" value="smaller"/>
		<float name="nearClip" value="10"/>
		<float name="farClip" value="2800"/>
		<float name="focusDistance" value="1000"/>

		<!-- TODO: add transform args for sensor, roadplane, objs -->
		<transform name="toWorld">
			<rotate x="1" y="0" z="0" angle="35"/>
			<translate x="278" y="278" z="-800"/>
		</transform>
		<float name="fov" value="60"/>

		<sampler type="ldsampler">
			<integer name="sampleCount" value="16"/>
		</sampler>

		<film type="ldrfilm">
            <string name="pixelFormat" value="rgba"/>
			<integer name="width" value="1024"/>
			<integer name="height" value="1024"/>
			<boolean name="banner" value="false"/>
			<rfilter type="gaussian"/>
			
		</film>
	</sensor>


	<shape type="rectangle">
		<transform name="toWorld">
			<scale x="100" y="100" z="100"/>
			<rotate x="1" y="0" z="0" angle="-90"/>
			<translate x="250" y="0" z="-300"/>
			
		</transform>

		<bsdf type="roughdiffuse">
			<spectrum name="reflectance" value="0.5"/>
			<texture type="bitmap" name="reflectance">
				<string name="filename" value="assets/background.jpg"/>
				<float name="vscale" value="0.2"/>
				<float name="uscale" value="0.2"/>
				<float name="uoffset" value="0.8"/>
				<float name="voffset" value="0.8"/>
			</texture>
		</bsdf>

	</shape>

	<shape type="obj">
		<string name="filename" value="../cars_test/meshes/mustang/1967-shelby-ford-mustang.obj"/>
		
		<transform name="toWorld">
			<scale value="10"/>
			<rotate x="0" y="1" z="0" angle="-35"/>
			<translate x="250" y="0" z="-300"/>
			
		</transform>
	</shape>

</scene>
